<div class="card">
  <div class="card-header">
    <h2>Resumen de Pedidos</h2>
    <button
      class="btn btn-primary btn-export"
      (click)="exportToWhatsApp()"
      [disabled]="isLoading || bocadillos.length === 0"
    >
      ðŸ“¤ Exportar para WhatsApp
    </button>
  </div>

  <div class="loading" *ngIf="isLoading">
    Cargando pedidos...
  </div>

  <div class="alert alert-danger" *ngIf="errorMessage">
    {{ errorMessage }}
  </div>

  <div class="empty-state" *ngIf="!isLoading && bocadillos.length === 0 && !errorMessage">
    <p>No hay pedidos esta semana</p>
  </div>

  <div class="table-container" *ngIf="!isLoading && bocadillos.length > 0">
    <table class="summary-table">
      <thead>
        <tr>
          <th>Nombre</th>
          <th>TamaÃ±o</th>
          <th>Pan</th>
          <th>Ingredientes</th>
          <th>Tipo</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let bocadillo of bocadillos">
          <td class="nombre-cell">{{ bocadillo.nombre }}</td>
          <td>
            <span class="badge" [class.badge-grande]="bocadillo.tamano === 'grande'">
              {{ getTamanoLabel(bocadillo.tamano) }}
            </span>
          </td>
          <td>{{ getTipoPanLabel(bocadillo.tipoPan) }}</td>
          <td class="ingredientes-cell">
            <span class="ingrediente-chip" *ngFor="let ing of bocadillo.ingredientes">
              {{ ing }}
            </span>
          </td>
          <td>
            <span class="bocata-predefinido" *ngIf="bocadillo.bocataPredefinido">
              {{ bocadillo.bocataPredefinido }}
            </span>
            <span *ngIf="!bocadillo.bocataPredefinido" class="text-muted">
              Personalizado
            </span>
          </td>
        </tr>
      </tbody>
    </table>

    <div class="summary-footer">
      <strong>Total de bocadillos: {{ bocadillos.length }}</strong>
    </div>
  </div>
</div>
